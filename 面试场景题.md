# 前端工程化/网络面试题

## 接口超时请求

> 你们的接口超时时间一般设多少？
> 为什么要做超时控制？你会怎么做？

✅ 前端接口超时一般设在 `5-10s` 中

- 大部分业务场景：5–10 秒
- 重要慢接口（比如需要汇总数据）：10–15 秒
- 极端情况（大文件上传、超大搜索）：>30 秒也可能，但要明确给用户提示

✅ 设计超时的核心原则

1. 保证用户体验

- 人在等待时感知 2 秒以内是「很快」
- 超过 5–10 秒用户就会怀疑是不是卡死了
- 所以前端要能给出「超时提示」

2. 避免资源浪费

- 网络请求挂起时间过长占用连接
- 可能导致浏览器并发数耗尽

3. 和后端约定

- 后端一般也有超时
- 前后端要「对齐」这个阈值

> 参考回到, 我一般会给前端请求加超市, 一般业务场景都在 5- 10 秒内, 避免后端或者网络异常时用户一直转圈. 超时后会提示用户重试或降级内容. 对于特殊慢接口也会放宽到15s甚至更多, 但是都会做loading、错误提示、避免用户卡住


| 场景类型      | 建议超时            |
| --------- | --------------- |
| 一般API接口   | 5–10 秒          |
| 慢查询/复杂聚合  | 10–15 秒         |
| 大文件上传下载   | 30 秒以上（用户可感知进度） |
| 心跳 / 轮询接口 | < 5 秒一次，但每次超时短  |



## 前端稳定性保障设计

> 你们前端怎么做稳定性？
> 有没有做过可用性保障的设计？
> 线上出过问题怎么排查？


### 前端「稳定性保障」核心思路

稳定性设计的本质是：

⭐「就算后端挂了、网络慢了、代码出错了，用户也不能卡死或白屏。」
⭐「就算出错，也能快速发现、定位、恢复。」

所以要覆盖三个层面：

1. 预防（减少线上出错概率）
2. 降级（出错了还能用）
3. 监控（出错了能知道）


#### 1.预防型设计

⭐ 目标：上线前就减少 bug

- TS类型检查
- ESLint 代码规范 统一团队代码风格 避免潜在BUG
- 关键逻辑、复杂逻辑有单元测试覆盖
- 写防御性代码(代码参数判空处理)

